#folder(Тян, Tyan)
#folder(Уровень ГД, Lvlgd)
#color(Тян, E66A6A)
#color(Тян2, A26AE6)
#color(Уровень ГД, E7DE6B)

@start
Тян:
Привет, няша!
{
    show(Тян, ktr031.png, 0.7)
    bg(bg_12a.jpg)
    music(03. Nuthin' But A G Thang.ogg)
    goto(@1)
}

@1
Тян:
Я смотрю ты хочешь сделать новеллу!

@2
Тян:
Мой новелло-двиг поможет тебе в этом! (нет)
{
	show(Тян, ktr032.png)
	goto(@3)
}

@3
Тян:
Короче щас я тебя научу пользоваться этим кривым говном уровня гд.
{
	show(Тян, ktr031.png)
}

@4
Тян:
Если будешь прилежным учеником то в конце тутора я покажу тебе сисечки :3
{
	show(Тян, ktr032.png)
}

@5
Тян:
Итак, мы имеем папку VN в которой лежат ресурсы игры, эта папка VN дожна находиться рядом с экзешником сбилженной игры
{
	show(Тян, ktr031.png)
}

@6
Тян:
Но если ты тестируешь игру в редакторе юнити то нужно обязательно указать полный путь папки VN, это поле скрипта ScriptController который висит на гей-обжекте GameController

@7
Тян:
В папке вн главное это script.txt в котором описывется логика игры

@8
Тян:
Хотя мы знаем что вн - не игра, но условно будем называть это игрой. А script.txt это практически её исходный код!
{
	show(Тян, ktr036.png)
}

@9
Тян:
Каждая фраза новеллки помечается меткой которая начинается с символа @
{
	show(Тян, ktr031.png)
}

@10
Тян:
Текст от одной метки до другой считаются отдельной сценой. Для управления течением игры предусмотрены команды, которые выделены фигурными скобочками

@11
Тян:
Команды выглядят как <команданейм(параметр1, параметр2)> где вместо <> фигурные скобки

@12
Тян:
Форматирование и количество команд значения не имеют, главное чтоб каждая команда начиналась с новой строчки:
< - открывающаяся фигурная скобка
команда1(параметр1, параметр2)
команда2(параметр1)
> - закрывающаяся фигурная скобка

@13
Тян:
Самая простая команда это goto(@сцена), безусловный переход после того как текст фразы персонажа полностью выведен на экран. Текущая сцена называется @13 после которой мы делаем goto(@14)
{goto(@14)}

@14
Тян:
Кстати все команды выполняются при старте новой сцены, но goto выполняется в конце при переходе на новую, ну это и так понятно

@14-1
Тян:
goto можно не писать каждый раз, тогда переход будет осуществлен на следующую на ней сцену по порядку. Если сцены закончились то переход будет выполнен на самую первую сцену.

@15
Тян:
Когда нам нужна сцена-развилка где ГГ выбирает между несколькими действиями то goto делать не нужно. Надо создать кнопки выбора действия.

@16
Тян:
Команда для создания конопки - button(@нажмем_перейдем_на_эту_метку, текст на кнопке)

@17
Тян:
Кнопка может быть одна или куча, главное что теперь команда goto не нужна т.к. мы перейдем на нужную сцену нажав на кнопку.
{
	button(@18, Я понял, давай дальше)
	button(@15, Еще раз про кнопки, плес)
}

@18
Тян:
Кнопки это самое простое. Теперь расскажу подробнее про выводимый текст

@19
Тян:
То что ты сейчас читаешь это обычный текст.
Поддерживает переносы

и т.д.

@20
Тян:
Но он не поддерживает юнитивский rich text, то бишь теги, ибо рич текст юзается движком для вывода текста красиво по буковкам.

@21
Тян:
Конечно можно что-нибудь придумать, но потом. И так сойдет.

@22
Чтоб отображалось имя говорящего, нужно первой строчкой текста его поставить с двоеточием в конце, типа
Тян:
бла-бла-бла Анон ты такой милый... давай останемся друзьями.
Иначе имя выводиться не будет

@23
Тян:
Цвет имени задается в начале скрипта эдакими директивами конпелятора, начинаюимися с символа #

@24
Тян2:
Цвет ассоциируется с именем и задается в hex-формате. Чтоб было проще на геймобъекте GameController висит скрипт преобразующий цвет из палитры в числовой формат.

@25
Тян:
Теперь про бэкграунды. Выводятся они командой bg(файл.jpg)
Формат может быть жипег, пнг
{
	bg(bg_07b.jpg)
}

@26
Тян:
Картинка бэкграунда вписывется в экран игры так чтоб не было черных полос, поэтому о размере картинки волноваться особо не стоит, но если соотношение сторон разное то картика бэкграунда будет обрезана.
{
	bg(bg_12a.jpg)
}

@27
Тян:
Теперь про портреты, портрет выводится командой show(Персонаж, путь к файлу.png, позиция на экране)

@28
Тян:
если в script.txt в начале указать #folder(Тян, Papka/Podpapka) то к пути к портрету будет автоматически подставляться эта Papka/Podpapka чтоб постоянно не писать полный путь show(Персонаж, Papka/Podpapka/kartinka2.png)

@29
Тян:
Портретов можно выводить сколько угодно одновременно, но если мы пишем show(Персонаж, img.png) а "Персонаж" уже выведен на экран, то у него просто сменится картинка на новую указанную. Здесь мы прописали show(Тян2, Tyan/ktr038.png, -0.7) чтоб вывести нового прсонажа на экран
{
	show(Тян2, Tyan/ktr038.png, -0.7)
}

@30
Тян:
Позиция на экране это float, где -1 это левый край экрана, 1 правый, а 0 это центр. По вертикали позиция не регулируется.

@31
Тян:
Если мы пишем show(Персонаж, img.png, -1), а в следующей сцене show(Персонаж, img.png, 0) то картинки не будут добавляться/меняться, а портрет просто переедет на новую позицию 0
{
	show(Тян, ktr031.png, 0)
}

@32
Тян:
"Переезжание" можно выполнить и командой move(Персонаж, позиция). Позиция может быть и больше 1, тогда портрет уедет за край экрана.
{
	move(Тян2, 0.7)
}

@33
Тян:
Убрать прортрет с экрана можно командой hide(Персонаж), или можно убрать все портреты сразу командой hideall()
{
	hide(Тян2)
}

@34
Тян:
Пока мы сами не скроем выведенный портрет командой hide(Персонаж) он никуда не денется при переходах с сцены на сцену.
{goto(@36)}

@36
Тян:
Музыка и звуки.
{
	move(Тян, 0.7)
}

@37
Тян:
Команда music(файл.ogg) воспроизводит указанный файл.
Юнити может проигрывать потоковаое аудио только в формате ogg. Создатель сего ассета конвертил в огг с помощью плеера foobar2000
{
	music(Subwoofer Lullaby.ogg)
}

@38
Тян:
Звук можно проиграть с помощью команды sound(файл.wav), поддерживаются mp3, ogg, wav файлы
{
	sound(BADMRLE.wav)
}

@aboutscenes
Тян:
Если нужно загрузить другую сцену в юнити то это можно сделать командой loadscene(Сценанейм). Лучше это делать в новой пустой метке нашего сценария, так как сцена сразу загрузится и персонаж не успеет ничего сказать.

@aboutscenes-2
Тян:
Хочешь загрузить сцену "anotherScene" (для начала нужно закинуть юнити-сцену в File -> Build Settings, иначе выскочит ошибка)? 
{
	button(@aboutscenes-3, Да)
	button(@39, Нет)
}

@aboutscenes-3
{
	loadscene(anotherScene)
}

@39
Тян:
Вручную писать скрипт не очень удобно конечно. Но по мере написания понемногу придрачиваешься. Функционал простейший. Ну типа всё.

@40
Уровень ГД:
Что значит "всё"? А где обещанные сисечки?
{
	show(Уровень ГД, kei00a.png, 0)
}

@41
Тян:
Ах, ну здравствуй Уровень ГД!
{
	show(Тян, ktr037.png)
	move(Уровень ГД, -0.7)
}

@42
Тян:
А как же твои заявления, дескать "тни нинужны"?

@43
Уровень ГД:
Ой всё, пошли маняврирования, как всегда пишешь тутор к движку джва часа, а награды никакой. Ни сисек, нихрена.
{
	show(Уровень ГД, kei006.png)
	show(Тян, ktr039.png)
}

@44
Тян:
Ладно, уговорил. Держи свои сиськи, бака!
{
	show(Тян, ktr037.png)
	show(Уровень ГД, kei003.png)
	button(@end,Увидеть сисечки Тян)
}

@end
В связи с несовершенством движка произошла ошибка и для ее исправления будет отформатирован диск Ц. Для продолжения нажмите любую клавишу.
{
	hideall()
	bg(bsod.jpg)
	button(@start,Ребут)
}